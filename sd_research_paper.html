<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: "default"
        });
    </script>

    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 550px; /* NARROWER */
            margin: auto;
            padding: 40px;
        }
        h2 {
            text-align: center;
            margin-bottom: 20px;
        }
    </style>
</head>

<body>

<h2>System Architecture Diagram</h2>

<div class="mermaid">
%%{init: {"flowchart": {"htmlLabels": true, "nodeSpacing": 20, "rankSpacing": 30}} }%%

flowchart TD

    subgraph Presentation_Layer[Presentation Layer]
        Clinician[Clinician User]
        UI[Web Interface]
    end

    subgraph Application_Layer[Application Layer]
        API[Django Backend Service]
        PDFGen[PDF Generator]
        EmailSvc[Email Service]
    end

    subgraph Intelligence_Layer[Intelligence Layer]
        Model[CNN Model]
    end

    subgraph Data_Layer[Data Layer]
        DB[(Database)]
        Media[(Media Storage)]
    end

    Clinician --> UI
    UI --> API
    API --> Model
    Model --> API

    API --> DB
    API --> Media
    API --> PDFGen
    API --> EmailSvc


</div>

</body>
</html>